<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Wult">
    <meta name="author" content="Artem Bityutskiy">

        <title>User Guide Â· Wult</title>


    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">


    <link rel="stylesheet" href="https://intel.github.io/wult/theme/css/main.css">

    <link rel="stylesheet" href="https://intel.github.io/wult/theme/css/solarized-light.css">


    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>

    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

</head>

<body>
  <div class="container" id="wrap">
      <nav id="navbar" class="navbar navbar-default" role="navigation">
    <div class="container">

      <!--navbar-header-->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://intel.github.io/wult">Wult</a>
      </div> <!--navbar-header-->

      <!-- Search Box -->

      <!--Menuitems, collapable-->
      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav navbar-right" id="menuitem-list">
                <li >
                  <a href="https://intel.github.io/wult/pages/how-it-works.html" >How it works</a>
                </li>

              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Install<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="https://intel.github.io/wult/pages/install-local.html" >Local usage (standard case)</a>
                  </li>
                  <li >
                    <a href="https://intel.github.io/wult/pages/install-remote.html" >Remote usage</a>
                  </li>
                </ul>
              </li>
                <li class="active">
                  <a href="https://intel.github.io/wult/pages/user-guide.html" >Use</a>
                </li>

              <li class="btn-group">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Howto<b class="caret"></b>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li >
                    <a href="https://intel.github.io/wult/pages/howto-create-reports.html" >Creating HTML reports</a>
                  </li>
                  <li >
                    <a href="https://intel.github.io/wult/pages/howto-view-local.html" >Viewing HTML reports</a>
                  </li>
                  <li >
                    <a href="https://intel.github.io/wult/pages/howto-i210.html" >Intel i210 NIC</a>
                  </li>
                </ul>
              </li>
                <li >
                  <a href="https://intel.github.io/wult/pages/ndl.html" >Ndl</a>
                </li>

        </ul>
      </div><!-- /.navbar-collapse -->

    </div> <!--container-->
  </nav>


    <div class="container">
      <div class="col-md-2">
      </div>

      <div class="col-md-8">
        <div class="row">
              <div class="page-header">
        <h1><a href="https://intel.github.io/wult/pages/user-guide.html">User Guide</a></h1>
    </div>

        </div>

        <div class="row">
<div id="page-content">
  <!-- -*- coding: utf-8 -*- -->
<!-- vim: ts=4 sw=4 tw=100 et ai si -->
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#usage-models-1" id="toc-entry-1">1 Usage models</a><ul>
<li><a class="reference internal" href="#local-usage-model-1" id="toc-entry-2">1.1 Local usage model</a></li>
<li><a class="reference internal" href="#remote-usage-model-1" id="toc-entry-3">2.2 Remote usage model</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scan-for-supported-devices" id="toc-entry-4">2. Scan for supported devices</a></li>
<li><a class="reference internal" href="#start-the-measurements" id="toc-entry-5">3. Start the measurements</a></li>
<li><a class="reference internal" href="#generate-html-report" id="toc-entry-6">4. Generate HTML report</a></li>
</ul>
</div>
<div class="section" id="usage-models-1">
<span id="usage-models"></span><h2><a class="toc-backref" href="#toc-entry-1">1 Usage models</a></h2>
<p>There are 2 <em>wult</em> usage models - <strong>local</strong> and <strong>remote</strong>. Most users prefer the local usage model,
because it is more straight-forward.</p>
<p>In both usage models <em>wult</em> command line arguments are the same except for the <cite>-H SUTNAME</cite> option,
that you should add in the remote usage case. This option specifies the SUT host name <em>wult</em> should
connect to.</p>
<div class="section" id="local-usage-model-1">
<span id="local-usage-model"></span><h3><a class="toc-backref" href="#toc-entry-2">1.1 Local usage model</a></h3>
<img alt="Examples of local wult usage." src="../images/wult-local-usage-model.jpg" />
<p>In the local usage model, the user runs <em>wult</em> on the SUT. <em>Wult</em> measures the SUT and stores the
measurement results on the SUT.</p>
</div>
<div class="section" id="remote-usage-model-1">
<span id="remote-usage-model"></span><h3><a class="toc-backref" href="#toc-entry-3">2.2 Remote usage model</a></h3>
<img alt="Example of remote wult usage." src="../images/wult-remote-usage-model.jpg" />
<p>In case of remote usage model, the user runs <em>wult</em> on the controller. <em>Wult</em> connects to the SUT
over the network, exercises the SUT, and stores the results on the controller.</p>
<p>In the remote usage model a single controller may exercise many SUTs at the same time (multiple
instances of <em>wult</em> running simultaneously). The other advantage of this usage model is that you run
<em>wult</em> as a non-privileged user on the controller. However, you should have root SSH login
configured on the SUT (<a class="reference external" href="install-remote.html#passwordless-ssh">here is how to do this</a>).</p>
</div>
</div>
<div class="section" id="scan-for-supported-devices">
<h2><a class="toc-backref" href="#toc-entry-4">2. Scan for supported devices</a></h2>
<p>Start with scanning for supported delayed interrupt source devices. Run the following command on the
SUT using the the local usage model:</p>
<pre class="literal-block">
sudo wult scan

Compatible device(s):
 * Device ID: tdt
   - Alias: tsc-deadline-timer
   - Description: TSC deadline timer
 * Device ID: hrtimer
   - Alias: hrt
   - Description: Linux High Resolution Timer
 * Device ID: 0000:38:00.0
   - Alias: enp1s0
   - Description: Intel I210 (copper). PCI address 0000:38:00.0, Vendor ID 8086, Device ID 0000:38:00.0.
</pre>
<p>The example output lists 3 devices that can be used as delayed interrupt sources for <em>wult</em>:</p>
<ul class="simple">
<li><em>tdt</em> - the TCS deadline timer.</li>
<li><em>hrtimer</em> or <em>hrt</em> - the high resolution timer, <strong>this is what we recommend to use</strong> to most users.</li>
<li><em>0000:38:00.0</em> - this is the PCI address of the I210 NIC. This NIC is also available under the
<cite>enp1s0</cite> name, which is actually the Linux network interface name.</li>
</ul>
<p>If using the <em>nic</em> method, <a class="reference external" href="howto-i210.html">this howto section</a> has
some useful information.</p>
</div>
<div class="section" id="start-the-measurements">
<h2><a class="toc-backref" href="#toc-entry-5">3. Start the measurements</a></h2>
<p>Before you start <em>wult</em>, you should know which method you are going to use.
<a class="reference external" href="how-it-works.html#irq-source">This section may help</a>.</p>
<p>The basic way to start <em>wult</em> is by running <cite>wult start DeviceID</cite>, and <cite>DeviceID</cite>'s are provided by
<cite>wult scan</cite>. If unsure, use <em>hrt</em>.</p>
<p>For example, to run <em>wult</em> using the <em>hrt</em> method, run:</p>
<pre class="literal-block">
wult start hrt
</pre>
<p>This command will collect 1000000 datapoints and save them in current directory in a sub-directory
like <cite>wult-hrt-&lt;date&gt;</cite>. Here are the options you may want to use as well.</p>
<ul class="simple">
<li><cite>-c</cite> - count of datapoints to collect (default is 1000000).</li>
<li><cite>--reportid</cite> - report ID of the result. Use a short, but descriptive string to describe the test
run.</li>
<li><cite>-o</cite> - the output directory path.</li>
<li><cite>--cpunum</cite> - the CPU to measure the C-state latency on (default is CPU 0).</li>
</ul>
<p>Check <cite>wult start -h</cite> for more information.</p>
</div>
<div class="section" id="generate-html-report">
<h2><a class="toc-backref" href="#toc-entry-6">4. Generate HTML report</a></h2>
<p>The <cite>wult start</cite> command measures the SUT and saves the result in the <cite>datapoints.csv</cite> file, along
with some additional metadata in the <cite>info.yml</cite> file. We also refer to these results as &quot;raw
results&quot;.</p>
<p>One way to quickly inspect the results in the command line is by using the <cite>wult stats</cite> and <cite>wult
filter</cite> commands. But you also can generate an HTML report with <cite>wult report</cite>. Here is how to
generate an HTML report for the raw results in <cite>all-cstates-enabled</cite>:</p>
<pre class="literal-block">
wult report all-cstates-enabled
</pre>
<p>The HTML report will be saved in <cite>all-cstates-enabled/html-report</cite> sub-directory. Use <cite>-o</cite> option to
specify a different path to save the HTML report in.</p>
<p>Note, you can generate a <strong>diff</strong> too. A diff is an HTML report for multiple raw results. Diffs make
it easier to compare test results. Just give <cite>wult report</cite> multiple raw test results to generate a
diff.</p>
<p>Please, find <a class="reference external" href="howto-create-reports.html">more 'wult report' hints here</a>.</p>
</div>

</div>
        </div>

        <div class="row">
        </div>

      </div>

      <div class="col-md-2">
      </div>
    </div>


  </div>

    <nav id="footer" class="navbar navbar-default">
    <div class="container">
        <p id="footer-text" class="navbar-text text-center">
          <span id="engine">
            Compiled using
            <a href="https://docs.getpelican.com">Pelican</a>
          </span>
          <span id="theme">
            with theme
            <a href="https://github.com/yuex/pelican-chameleon">Chameleon</a>
          </span>
          <span id="bootstrap">
            on top of
            <a href="https://getbootstrap.com/">Bootstrap</a>
          </span>
        </p>
      </div>
    </div>
  </nav>


</body>
</html>