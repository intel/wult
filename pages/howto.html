<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Wult - Howto</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda"/>
        <link rel="stylesheet" type="text/css" href="https://intel.github.io/wult/theme/css/main.css"/>
</head>
<body>
<style>.github-corner:hover .octo-arm {
    animation: octocat-wave 560ms ease-in-out
}
@keyframes octocat-wave {
    0%, 100% {
        transform: rotate(0)
    }
    20%, 60% {
        transform: rotate(-25deg)
    }
    40%, 80% {
        transform: rotate(10deg)
    }
}
@media (max-width: 500px) {
    .github-corner:hover .octo-arm {
        animation: none
    }

    .github-corner .octo-arm {
        animation: octocat-wave 560ms ease-in-out
    }
}</style><div id="container">
    <header>
        <h1><a href="https://intel.github.io/wult/">Wult</a></h1>
        <p><em></em></p>
    </header>
    <nav>
        <ul>
                <li><a href="/wult/pages/how-it-works.html">How it works</a></li>
                <li><a href="/wult/pages/install-guide.html">Install</a></li>
                <li><a href="/wult/pages/user-guide.html">Use</a></li>
                <li><a href="/wult/pages/howto.html">Howto</a></li>
                <li><a href="/wult/pages/ndl.html">Ndl</a></li>
        </ul>
    </nav>
    <main>
        <section>
            <h1>Howto</h1>
            
            <!-- -*- coding: utf-8 -*- -->
<!-- vim: ts=4 sw=4 tw=100 et ai si -->
<div class="contents topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#creating-wult-reports" id="toc-entry-1">Creating wult reports</a><ul>
<li><a class="reference internal" href="#include-only-cc6-datapoints" id="toc-entry-2">Include only CC6 datapoints</a></li>
<li><a class="reference internal" href="#fewer-datapoints-in-the-html-report" id="toc-entry-3">Fewer datapoints in the HTML report</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reading-wult-reports" id="toc-entry-4">Reading wult reports</a><ul>
<li><a class="reference internal" href="#securely-view-wult-html-reports" id="toc-entry-5">Securely view wult HTML reports</a></li>
<li><a class="reference internal" href="#open-wult-reports-locally" id="toc-entry-6">Open wult reports locally</a><ul>
<li><a class="reference internal" href="#chrome-extension" id="toc-entry-7">Chrome extension</a></li>
<li><a class="reference internal" href="#servefolder-dev" id="toc-entry-8">servefolder.dev</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#intel-i210-nic" id="toc-entry-9">Intel I210 NIC</a><ul>
<li><a class="reference internal" href="#how-to-use-wult-with-intel-i210-nic" id="toc-entry-10">How to use wult with Intel I210 NIC</a></li>
<li><a class="reference internal" href="#which-intel-i210-nic-to-buy" id="toc-entry-11">Which Intel I210 NIC to buy</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="creating-wult-reports">
<span id="wult-report"></span><h2><a class="toc-backref" href="#toc-entry-1">Creating wult reports</a></h2>
<div class="section" id="include-only-cc6-datapoints">
<h3><a class="toc-backref" href="#toc-entry-2">Include only CC6 datapoints</a></h3>
<p>Suppose you have a raw <em>wult</em> result for a Xeon platform, and you want to include only datapoints
with core C6 (CC6) residency in an HTML report. Supposed you do not want to include datapoints with
package C2 (PC2) and package C6 (PC6) residency. Here is how to do this:</p>
<pre class="literal-block">
wult report --include 'CC6% &gt; 0 &amp; PC6% == 0 &amp; PC2% == 0' &lt;raw_result&gt;
</pre>
<p>This command specifies the <cite>--include</cite> option which says that <em>wult</em> should only select datapoints
with CC6 residency greater than zero and zero PC6/PC2 residency.</p>
</div>
<div class="section" id="fewer-datapoints-in-the-html-report">
<h3><a class="toc-backref" href="#toc-entry-3">Fewer datapoints in the HTML report</a></h3>
<p>Suppose you have two raw <em>wult</em> results:</p>
<pre class="literal-block">
$ ls
ivt-nic-c6-hfm-noaspm  ivt-tdt-c6-hfm-noaspm
</pre>
<p>Suppose the raw results contained 1000000 datapoints and you've generated a diff for them:</p>
<pre class="literal-block">
$ wult report -o ivt-c6-hfm-nic-vs-tdt ivt-nic-c6-hfm-noaspm ivt-tdt-c6-hfm-noaspm

$ du -sh ivt-c6-hfm-nic-vs-tdt/
406M   ivt-c6-hfm-nic-vs-tdt/
</pre>
<p>Suppose the diff is too large for your purposes (406M), and you want a diff that takes less storage.</p>
<p>One option for you is to include fewer datapoints in the report, for example 10000 instead of
1000000. You can use the <cite>--include</cite> option to select only the first 10000 datapoints.</p>
<pre class="literal-block">
$ wult report -o ivt-c6-hfm-nic-vs-tdt --include 'index &lt; 10000' ivt-nic-c6-hfm-noaspm ivt-tdt-c6-hfm-noaspm

$ du -sh ivt-c6-hfm-nic-vs-tdt
11M    ivt-c6-hfm-nic-vs-tdt
</pre>
</div>
</div>
<div class="section" id="reading-wult-reports">
<h2><a class="toc-backref" href="#toc-entry-4">Reading wult reports</a></h2>
<div class="section" id="securely-view-wult-html-reports">
<h3><a class="toc-backref" href="#toc-entry-5">Securely view wult HTML reports</a></h3>
<p>Please consider disabling all untrusted browser extensions while viewing <em>wult</em> HTML reports.</p>
<p>Browser extensions have varying levels of permissions. For example, some extensions require that the
user allows them to access and distribute the data they are viewing in-browser. This means that it
is possible for some browser extensions to view and share the contents of <em>wult</em> HTML reports.</p>
<p>For Google chrome, you can inspect the permissions of your extensions by visiting
<cite>chrome://extensions</cite>. In Firefox, the same thing can be done at <cite>about:addons</cite>.</p>
</div>
<div class="section" id="open-wult-reports-locally">
<h3><a class="toc-backref" href="#toc-entry-6">Open wult reports locally</a></h3>
<p>Suppose you have already generated a <em>wult</em> HTML report using the <cite>wult report</cite> command. If you wish
to view this report locally, such as by copying the report onto your machine and opening
<cite>index.html</cite>, you will need to host the report files locally. This is because modern browsers forbid
loading data from local file-systems for security reasons.</p>
<p>This can be done in many ways, such as by using <cite>python -m http.server</cite> in the root directory of the
report if you have Python3 installed.</p>
<p>Equally, if you have <cite>npm</cite> installed, you can install and then use the <cite>http-server</cite> package with
the following commands:</p>
<pre class="literal-block">
$ cd &lt;report-directory&gt;
$ npm install -g http-server
$ http-server
</pre>
<p>The following methods offer a way to host report files locally through a graphical interface.</p>
<div class="section" id="chrome-extension">
<h4><a class="toc-backref" href="#toc-entry-7">Chrome extension</a></h4>
<p>By installing the &quot;Web Server for Chrome&quot; extension, you will be able to serve the reports locally
without an internet connection in future through a graphical interface. However this extension is
limited to browsers which are compatible with chrome extensions.</p>
<blockquote>
Disclaimer: we have not performed a security audit of this extension and it should be used at
your own risk. The code is open source, under an MIT license and can be browsed <a class="reference external" href="https://github.com/kzahel/web-server-chrome">on GitHub</a>. The privacy policy for this extension is
available on <a class="reference external" href="http://graehlarts.com/privacy.html">this page</a>. At the time of writing (11 March
2022), this privacy policy states that &quot;The application does not collect any user information&quot;.
However we actively monitor neither the source code nor the privacy policy. Use at your own
risk. See <a class="reference internal" href="#securely-view-wult-html-reports">Securely view wult HTML reports</a> for more privacy information.</blockquote>
<p>Install the chrome extension from the chrome web store <a class="reference external" href="https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb">here</a>.</p>
<p>Once the application is installed, it can be opened from the chrome web store, chrome app menu
(<cite>chrome://apps/</cite>) or as a normal program on your computer. For example, on Windows 10, a shortcut
will be added to the <cite>Chrome Apps</cite> directory in the start menu.</p>
<img alt="Screenshot of the Web Server for Chrome application as of 10 March 2022." src="../images/wult-web-server-chrome.jpg" style="width: 350.0px; height: 346.0px;" />
<ol class="arabic simple">
<li>Use the <strong>CHOOSE FOLDER</strong> button to select the <em>wult</em> HTML report directory of the report you
want to view.</li>
<li>A link should appear below the <strong>Web Server URL(s)</strong> heading. Click on this link to open and view
the report.</li>
</ol>
</div>
<div class="section" id="servefolder-dev">
<h4><a class="toc-backref" href="#toc-entry-8">servefolder.dev</a></h4>
<p>This option should work on any modern browser (tested on 10 March 2022 working on Chrome, Firefox
and Edge but not Internet Explorer).  An internet connection is required to reach the site initially
but following this, the report can be viewed independently of an internet connection until the
<cite>Serve folder</cite> tab is closed.</p>
<blockquote>
Disclaimer: According to the <a class="reference external" href="https://servefolder.dev/privacy-policy.html">privacy policy</a>,
servefolder.dev does not collect or transmit any personal info and only accesses the files
locally in order to perform its function, futhermore the content of the files never leave your
device. The code is open source and can be inspected on <a class="reference external" href="https://github.com/AshleyScirra/servefolder.dev">GitHub</a>. We have audited the code live at
servefolder.dev and can confirm that at the time of inspection (03 March 2022), it follows the
privacy policy, but we do not continuously security audit the code. Use at your own risk.</blockquote>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Open <a class="reference external" href="https://servefolder.dev/">the servefolder website</a>.</dt>
<dd><img alt="Screenshot from https://servefolder.dev on 10 March 2022." class="first last" src="../images/wult-serve-folder.jpg" style="width: 525.0px; height: 198.0px;" />
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Click <strong>Pick folder</strong> and select the report directory in the dialog that appears.</dt>
<dd><img alt="Prompt to view files from https://servefolder.dev as of 10 March 2022." class="first last" src="../images/wult-servefolder-allow.jpg" style="width: 525.0px; height: 180.75px;" />
</dd>
</dl>
</li>
<li><p class="first">Your browser will then prompt you to confirm that you would like to share the
files with the site. Choose <strong>View files</strong> or <strong>Upload</strong> depending on your browser
to allow the report to be shared.</p>
<blockquote>
<img alt="Screenshot from https://servefolder.dev once the wult report has been shared." src="../images/wult-files-hosted.jpg" style="width: 525.0px; height: 162.75px;" />
</blockquote>
</li>
<li><p class="first">The report should now be viewable by clicking on the link shown. If you want to view a different
report use the <strong>Browse...</strong>  button.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="section" id="intel-i210-nic">
<span id="intel-i210"></span><h2><a class="toc-backref" href="#toc-entry-9">Intel I210 NIC</a></h2>
<div class="section" id="how-to-use-wult-with-intel-i210-nic">
<h3><a class="toc-backref" href="#toc-entry-10">How to use wult with Intel I210 NIC</a></h3>
<p>First of all, read <a class="reference external" href="how-it-works.html#i210-warning">a word of warning here</a>.</p>
<p>We recommend to stick with the <em>hrt</em> method, but if you have a specific reason to use the <em>nic</em>
method with Intel I210, here are some hints.</p>
<p>Make sure to install an Intel I210-based NIC to the SUT (System Under Test) by plugging it into an
appropriate PCIe slot. You do not need to connect the Intel I210 NIC to the network (no cable
needed).</p>
<p>The important thing, however, is that you should not use the I210 NIC for anything else, it has to
be dedicated to <em>wult</em>. It is OK to have multiple I210 adapters on your system, as long as one of
them is dedicated to <em>wult</em>. Here are two example SUT configurations.</p>
<img alt="Example wult HW setup for the &quot;nic&quot; measurement method." src="../images/wult-hw-setup.jpg" />
<p>In the left picture the SUT has only one NIC dedicated to <em>wult</em>. The SUT is not connected to any
network and the user is logged in via a physically attached keyboard and monitor.</p>
<p>In the right picture the SUT is connected to a LAN with another NIC, but it has a separate NIC,
which is dedicated to <em>wult</em>. The user is logged in via SSH.</p>
</div>
<div class="section" id="which-intel-i210-nic-to-buy">
<h3><a class="toc-backref" href="#toc-entry-11">Which Intel I210 NIC to buy</a></h3>
<p>Intel I210 is a 1GbE network chip, several vendors ship (or shipped) network cards based on the I210
chip.  For example, we used the HP I210-T1 Network Adapter (E0X95AA).</p>
<p>There are other adapters out there. If you successfully used some of them with <em>wult</em>, let us know
and we'll mention them here.</p>
</div>
</div>

        </section>
     </main>
    <footer>
        <h6>
            Rendered by <a href="http://getpelican.com/">Pelican</a> &nbsp;&bull;&nbsp; Theme by <a
                href="https://github.com/aleylara/Peli-Kiera">Peli-Kiera</a> &nbsp;&bull;&nbsp; Copyright
                &copy &nbsp;&#8209;&nbsp; Artem Bityutskiy         </h6>
    </footer>
</div>
</body>
</html>
